<atlassian-plugin key="${project.groupId}.${project.artifactId}" name="${project.name}" plugins-version="2">
    <plugin-info>
        <description>${project.description}</description>
        <version>${project.version}</version>
        <vendor name="${project.organization.name}" url="${project.organization.url}"/>
    </plugin-info>

    <component key="rvmLocatorService" name="RVM Locator Service"
        class="au.id.wolfe.bamboo.ruby.rvm.RvmLocatorService" />

    <component key="rubyLocatorServiceFactory" name="Ruby Locator Service Factory"
               class="au.id.wolfe.bamboo.ruby.locator.RubyLocatorServiceFactory" />

    <!-- internationalize your plugin -->
    <resource type="i18n" name="au.id.wolfe.bamboo language" location="english"/>

    <taskType name="Rake" class="au.id.wolfe.bamboo.ruby.tasks.rake.RakeTask" key="task.builder.rake">

        <!--This binds to the ui for create and edit and saves settings -->
        <configuration class="au.id.wolfe.bamboo.ruby.tasks.rake.RakeConfigurator"/>

        <!--This detects the ruby installations on the system -->
        <capabilityDefaultsHelper class="au.id.wolfe.bamboo.ruby.RubyCapabilityDefaultsHelper"/>

        <category name="builder"/>

        <!--Some magic that makes a list of executables appear in a box on the UI -->
        <executable key="ruby" nameKey="builder.ruby.executableName" pathHelpKey="builder.ruby.helpPath"/>

        <description>Build a Ruby project using rake.</description>

        <!--The UI fragments used to configure the plugin-->
        <resource type="freemarker" name="edit" location="rake/editRakeTask.ftl"/>
        <resource type="freemarker" name="view" location="rake/viewRakeTask.ftl"/>

    </taskType>

    <taskType name="Bundler" class="au.id.wolfe.bamboo.ruby.tasks.bundler.BundlerTask" key="task.builder.bundler">

        <!--This binds to the ui for create and edit and saves settings -->
        <configuration class="au.id.wolfe.bamboo.ruby.tasks.bundler.BundlerConfigurator"/>

        <category name="builder"/>

        <!--Some magic that makes a list of executables appear in a box on the UI -->
        <executable key="ruby" nameKey="builder.ruby.executableName" pathHelpKey="builder.ruby.helpPath"/>

        <description>Use bundler to install project dependencies in RVM.</description>

        <!--The UI fragments used to configure the plugin-->
        <resource type="freemarker" name="edit" location="bundler/editBundlerTask.ftl"/>
        <resource type="freemarker" name="view" location="bundler/viewBundlerTask.ftl"/>

    </taskType>

</atlassian-plugin>
